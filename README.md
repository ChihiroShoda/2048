 # プログラムの説明


## 2048の遊び方
- kを押すと数字が全てぎりぎりまで右に、jなら左、iなら上、mなら下に詰めて動く。
- 動かした先に同じ数字があれば足し算が行われて数字が詰められる。
- 数字が動いたら新しく2か4の数字が生成される。
- qを押すとレベルが1上がり、一度に生成される数の個数が一つずつ多くなる。（始めは1個）
- 2048が作れたらゲームクリア。2048以上も作ることができる。
- それ以上数字を動かせず、数字を生成できなくなったらゲームオーバーとなる。


## コード説明

関数をmainの中の上から順に説明していく。

まず、’printf("Press any key to conitnue\n");’で数字を入力させる。

そのほかにキーボード入力を受け取るc、コピー用配列int型copy[N][N]、様々なカウント用にcount、count_2、count_3、level、turnを用意した。


### set_cell

まずint型の5*5の二次元配列(cellとする)をとり初期値としてすべて0を代入した。

代入するためにはforループを二回使った。
特に返り値はないのでvoid。


'srand(time(NULL));'でランダムな乱数が表示されるように準備した。

’system("/bin/stty raw onlcr");'でenterを押さなくてもキー入力を受け付けるようになる。

以下whileループをキーボード入力がが'.’で無い限り行うようにする。


###copy_cell

予めcopy[][]にcell[][]をコピーしておく。これにより後に処理を行って変化があったか調べることができる。

代入するためにはforループを二回使った。
特に返り値はないのでvoid。


##＃system("clear")

以下で多用しており、これでターミナルを綺麗にすることができる。

#printf

("  ")内に書かれた内容を表示している。


###move_right

キーボード入力がkだった場合数字が全て右に移動するため、cellを行ごとにわけ（まずforループをiごとに区切り）、
次に行の右端からcellの値を読み取っていく。

もしもあるcellの値が0でなく、かつその右のcellの値が0だった場合、行の右端が0で無い数字の右詰になるように、cell[i][j+1](右側のcell)に数字、cell[i][j](左側のcell)に0がくるように
forループをくりかえす。


##add_right

move_rightを行ってから隣り合う数字が等しかった場合足し合わせをするさ作業を行う。

こちらもcellを行ごとにわけ、各行ごとに右端から同じ数字があるかforループで回す。

同じ数があれば右のcellに足し合わせた数、左に0を代入することにする。
この作業は作業逆でも良い。
その後'j-=1'することで重複作業を減らすことができる。

0が途中で入ってくるためこの後にもう一度move_rightを行う必要がある。


###move_left, move_up, move_down

move_rightと同じように数字を詰める関数で、左から順に左、上、下詰めになる。

左右で詰める時は行ごとに考え、左詰のときは左から考える。

上下で考えるときは列ごとに考え、上詰めのときは上から、下詰のときは下から考える。


###add_left, add_up, add_down

add_rightと同じように数字を足し合わせる関数で、左から順に左、上、下から数字が同じか調べ足す。

このように区別すると、数字が右に詰められる時同じ数字が3つ連続であったら右に足し合わせた数、その左に元の数、
のような配置になる。


###level

独自の機能として、ゲームレベルを設定した。
qが押された場合、数字は動かないがレベルが１上がる。

レベルが上がると一度に生成される数字が一つ増える。
これにより早くゲームオーバーになりやすくなる。


###countについて

様々なカウントように、count、count_2、count_3を用意した。

countは予めとっておいたcopyとcellを比べることで上までの操作で変化があったか調べる。

もし変化がなかった場合turnを追加せず、新しく数字も生成しない。

ただし、1回目の操作(turn0のとき)は必ず生成されるようにする。

countはwhileループの最後にリセットする。


count_2で2048ができたか調べる。

2048ができていたら'congrats()'という関数でお祝いメッセージが表示されるようにした。

お祝いメッセージは一回だけ表示されるようにしたいためcount_2の初期化はしない。

####congrats

枠と2048という文字が表示される。

sleepとsystem("clear")を利用することで少しだけアニメーションが現れるようにした。
せっかくなので3回くりかえす。


count_3でcellに空きがあるか調べる。

空きがなく、かつ前後左右で同じ数が無い場合、もうcellをうごかすことができず、かつ数字も生成することができない。

そのためこの状態に陥った場合ゲームオーバーになるようにした。

count_3も最後に初期化する必要がある。

####count_gameover

上で述べたように、上下左右で同じ数字があるか調べる。

同じ数字があるかどうかを調べればいいので、forループを4回使い、行ごとと列ごとに順番にしらべ、同じ数がなかった場合0が返ってくるようにした。
returnしたあとに初期化する必要がある。

####print_gameover

"GAMEOVER"の文字が表示されるようにした。


###print_board

盤面を表示する。

見た目がわかりやすいように盤面を枠で囲った。また、tabや改行を多く行い盤面が見やすくなるよう工夫した。

cellの値によって表示方法が異なる。

cellが0、つまり何も入っていない場合、見やすいように'-'を入力することにした。
その際、型をintからcharに変更する必要があるため予めchar型の5*5の配列を準備しておく。

cellが一桁の場合シアン、2桁ならマゼンダ、3桁なら黄色、1024なら緑、2048なら赤で表示されるようにした。

こちら[リンク](https://www.serendip.ws/archives/4635)を参考にした。


###そのほか

じぶんが何を押したか、何ターン目か、レベルについての情報を表示されるようにprintf関数を用いた。
